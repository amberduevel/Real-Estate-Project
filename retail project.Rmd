---
title: "Real Estate Draft"
output: html_document
---

### Setup

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
library(ggplot2)
```

### Cleaning the Data

```{r}
onalaskaRE = read_csv("Onalaska.csv")
names(onalaskaRE)
```

Variables that we want to get rid of: 
- grantorname
- grantorrelationship
- grantortype
- grantorownintothrnote
- grantorretainsright
- grantorrightsothrnote
- blank...9
- granteename
- granteetype
- granteeaddress
- blank...14
- pageimage
- volumejacket
- blank...19
- county
- physicalpropaddress
- sectw..
- blank...27
- asof
- comments
- officialparcelnumbers
- blank...31
- blank...38
- sendtaxbillto
- name
- streetaddress
- citystatezip
- blank...43
- transfertype
- transfertypeothrnote
- conveydoctype
- conveyothrnote
- conveyancedate
- blank...50
- mflpfcacres
- blank...58
- grantorsagent
- granteesagent
- preparername
- blank...62
- blank...65
- prevdocnumber
- blank...69

```{r}
onalaskaRE = onalaskaRE %>% select(-c("grantorname", "grantorrelationship", "grantortype", "grantorownintothrnote", "grantorretainsright", "grantorrightsothrnote", "blank...9", "granteename", "granteetype", "granteeaddress", "blank...14", "pageimage", "volumejacket", "blank...19", "county", "physicalpropaddress", "sectwshpbaselinerngemeridian", "blank...27", "asof", "comments", "officialparcelnumbers", "blank...31", "blank...38", "sendtaxbillto", "name", "streetaddress", "citystatezip", "blank...43", "transfertype", "transfertypeothrnote", "conveydoctype", "conveyothrnote", "conveyancedate", "blank...50", "mflpfcacres", "blank...58", "grantorsagent", "granteesagent", "preparername", "blank...62", "blank...65", "prevdocnumber", "blank...69", "subdivcondolotunitblock"))
names(onalaskaRE)
```

```{r rename}
onalaskaRE <- rename(onalaskaRE,c("Grantor_Address"="grantoraddress",          
                                  "Ownership_interest_transferred"="grantorownership",         
                                  "Grantee_Certification_Date"="granteecertdate",       
                                  "County_doc_num"="countydocnum",         
                                  "Date_recorded"="daterecorded",            
                                  "Property_legal_descipt"="parcelinthe",           
                                  "Primary_residence"="primaryresgrantee",        
                                  "town"="municipal name",       
                                  "Total_Value_Real_estate_Transferred"="totvalrealestatetransfrd",
                                  "Value_Subject_to_fee"="valuesubjectfee",          
                                  "Transfer_fee_due"="transffeedue",             
                                  "Transfer_fee_exemption_num"="transffeeexemptnum",      
                                  "Personal_property_value_excluded_From_total_value"="ppvalueexcluded",          
                                  "Property_value_exempt_from_local_property_tax"="propvalueexemptloctax",    
                                  "Grantee_Financing"="granteefinancing",        
                                  "Property_Type1"="propertytype...51",        
                                  "Predominant_use"="predominantuse",           
                                  "Lot_square_footage"="lotsquarefootage",         
                                  "Total_acres"="totalacres",               
                                  "Feet_water_frontage"="feetwaterfrontage",        
                                  "Number_of_units"="numberofunits",           
                                  "Weatherization_Standards"="ispropsubtoresrentstand",  
                                  "Energy Exclusion"="energy exclusion",         
                                  "Recording_info_add_on"="recinfoaddedon",          
                                  "Doc_locator_num"="doclocatornumber",         
                                  "Arms_length"="armslength",               
                                  "Primary_Class"="primaryclass",            
                                  "Water_type"="watertype",                
                                  "Property_Type2"="propertytype...73"))
```

```{r}
onalaskaRE = onalaskaRE %>% select(-c("Ownership_interest_transferred", "Grantee_Certification_Date", "County_doc_num", "Property_legal_descipt", "Primary_residence", "town", "Value_Subject_to_fee", "Transfer_fee_due", "Transfer_fee_exemption_num", "Personal_property_value_excluded_From_total_value", "Property_value_exempt_from_local_property_tax", "Grantee_Financing", "Predominant_use", "Lot_square_footage", "Weatherization_Standards", "Recording_info_add_on", "Doc_locator_num"))

onalaskaRE = unique(onalaskaRE)
```

```{r Feet From water}
Water_lm <- lm(Total_Value_Real_estate_Transferred~Feet_water_frontage, data=onalaskaRE)
summary(Water_lm)
```

```{r Total Acres}
Acres_lm <- lm(Total_Value_Real_estate_Transferred~Total_acres, data=onalaskaRE)
summary(Acres_lm)
```

```{r Number of Units}
Units_lm <- lm(Total_Value_Real_estate_Transferred~Number_of_units, data=onalaskaRE)
summary(Units_lm)
```

```{r Arms Length}
Arms_lm <- lm(Total_Value_Real_estate_Transferred~Arms_length, data=onalaskaRE)
summary(Arms_lm)
```

```{r Water Type}
Water_Type_lm <- lm(Total_Value_Real_estate_Transferred~Water_type, data=onalaskaRE)
summary(Water_Type_lm)
```

```{r property type}
Property_lm <- lm(Total_Value_Real_estate_Transferred~Property_Type2, data=onalaskaRE)
summary(Property_lm)
```
